Excluding tags: [:skip]

warning: this clause for init/1 cannot match because a previous clause at line 0 always matches
  test/kernel_shtf/race_test.exs:129

warning: this clause for init/1 cannot match because a previous clause at line 0 always matches
  test/kernel_shtf/race_test.exs:142

.11:43:18.265 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 0}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 1}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 2}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 3}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 4}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 5}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 6}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 7}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 8}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 9}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 10}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 11}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 12}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 13}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 14}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 15}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 16}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 17}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 18}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 19}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 20}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 21}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 22}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 23}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 24}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 25}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 26}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 27}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 28}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 29}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 30}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 31}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 32}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 33}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 34}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 35}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 36}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data:  (truncated)
11:43:18.292 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 0}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 0}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 1}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 2}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 3}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 4}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 5}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 6}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 7}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 8}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 9}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 10}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 11}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 12}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 13}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 14}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 15}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 16}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 17}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 18}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 19}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 20}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 21}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 22}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 23}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 24}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 25}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 26}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 27}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 28}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 29}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 30}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 50, trigger: :size}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 1}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, ari (truncated)
11:43:18.294 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 50}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 51}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 52}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 53}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 54}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 55}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 56}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 57}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 58}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 59}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 60}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 61}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 62}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 63}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 64}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 65}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 66}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 67}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 68}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 69}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 70}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 71}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 72}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 73}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 74}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 75}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 76}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 77}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 78}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 79}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 80}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 81}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 82}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 83}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 84}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 85}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 86}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Mess (truncated)
11:43:18.311 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 50}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 50}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 51}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 52}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 53}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 54}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 55}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 56}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 57}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 58}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 59}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 60}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 61}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 62}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 63}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 64}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 65}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 66}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 67}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 68}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 69}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 70}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 71}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 72}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 73}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 74}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 75}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 76}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 77}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 78}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 79}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 80}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 50, trigger: :size}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 51}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handl (truncated)
11:43:18.313 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 100}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 101}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 102}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 103}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 104}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 105}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 106}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 107}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 108}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 109}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 120}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 121}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 122}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 123}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 124}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 125}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 126}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 127}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 128}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 129}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 130}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 131}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 132}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 133}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 134}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 110}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 111}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 112}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 113}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 114}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 115}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 116}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 117}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 118}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 119}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 135}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 136}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode (truncated)
11:43:18.332 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 100}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 100}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 101}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 102}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 103}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 104}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 105}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 106}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 107}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 108}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 109}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 120}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 121}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 122}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 123}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 124}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 125}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 126}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 127}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 128}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 129}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 130}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 131}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 132}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 133}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 134}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 110}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 111}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 112}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 113}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 114}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 115}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 50, trigger: :size}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 101}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.Rac (truncated)
11:43:18.334 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 145}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 146}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 147}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 148}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 149}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 160}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 161}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 162}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 163}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 164}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 150}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 151}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 152}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 153}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 154}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 165}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 166}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 167}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 168}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 169}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 170}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 171}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 172}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 173}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 174}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 180}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 181}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 182}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 183}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 184}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 190}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 191}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 192}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 193}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 194}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 195}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 196}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode (truncated)
11:43:18.351 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 145}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 145}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 146}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 147}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 148}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 149}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 160}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 161}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 162}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 163}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 164}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 150}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 151}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 152}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 153}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 154}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 165}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 166}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 167}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 168}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 169}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 170}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 171}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 172}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 173}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 174}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 180}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 181}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 182}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 183}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 184}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 190}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 50, trigger: :size}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 146}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.Rac (truncated)
11:43:18.352 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 175}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 176}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 177}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 178}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 179}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 185}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 186}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 187}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 188}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 189}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 220}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 221}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 222}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 223}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 224}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 225}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 226}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 227}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 228}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 229}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 230}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 231}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 232}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 233}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 234}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 210}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 211}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 212}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 213}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 214}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 235}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 236}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 237}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 238}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 239}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 215}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 216}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode (truncated)
11:43:18.373 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 175}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 175}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 176}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 177}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 178}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 179}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 185}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 186}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 187}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 188}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 189}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 220}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 221}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 222}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 223}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 224}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 225}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 226}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 227}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 228}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 229}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 230}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 231}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 232}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 233}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 234}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 210}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 211}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 212}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 213}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 214}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 235}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 50, trigger: :size}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 176}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.Rac (truncated)
11:43:18.374 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 245}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 246}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 247}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 248}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 249}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 260}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 261}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 262}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 263}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 264}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 255}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 256}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 257}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 258}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 259}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 270}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 271}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 272}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 273}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 274}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 280}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 281}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 282}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 283}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 284}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 265}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 266}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 267}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 268}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 269}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 285}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 286}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 287}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 288}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 289}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 290}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 291}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode (truncated)
11:43:18.392 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 245}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 245}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 246}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 247}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 248}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 249}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 260}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 261}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 262}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 263}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 264}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 255}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 256}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 257}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 258}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 259}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 270}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 271}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 272}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 273}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 274}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 280}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 281}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 282}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 283}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 284}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 265}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 266}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 267}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 268}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 269}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 285}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 50, trigger: :size}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 246}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.Rac (truncated)
11:43:18.393 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.TestTrack.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.TestTrack.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 275}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 276}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 277}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 278}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 279}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 295}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 296}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 297}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 298}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 299}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 320}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 321}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 322}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 323}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 324}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 325}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 326}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 327}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 328}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 329}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 330}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 331}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 332}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 333}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 334}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 310}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 311}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 312}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 313}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 314}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 315}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 316}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 317}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 318}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 319}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 335}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 336}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode (truncated)
11:43:18.408 [error] ** (FunctionClauseError) no function clause matching in Broadway.NoopAcknowledger.ack/3
    (broadway 1.1.0) lib/broadway/noop_acknowledger.ex:27: Broadway.NoopAcknowledger.ack(:ack_ref, [], [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 275}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.RaceTest.TestTrack, function: :handle_batch, arity: 4, reason: nil, message: nil}, [{KernelShtf.RaceTest.TestTrack, :handle_batch, [:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 275}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 276}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 277}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 278}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 279}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 295}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 296}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 297}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 298}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 299}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 320}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 321}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 322}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 323}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 324}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 325}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 326}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 327}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 328}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 329}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 330}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 331}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 332}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 333}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 334}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 310}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 311}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 312}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, ...}, batcher: :default, batch_key: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 313}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, ...}, batcher: :default, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 314}, metadata: %{}, acknowledger: {...}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 315}, metadata: %{}, ...}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{...}, ...}, %Broadway.Message{...}, ...], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 45, trigger: :flush}, :context_not_set], []}, {Broadway.Topology.BatchProcessorStage, :handle_batch, 4, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 112]}, {Broadway.Topology.BatchProcessorStage, :"-handle_events/3-fun-0-", 5, [file: 'lib/broadway/topology/batch_processor_stage.ex', line: 67]}, {:telemetry, :span, 3, [file: '/home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl', line: 324]}, {GenStage, :consumer_dispatch, 6, [file: 'lib/gen_stage.ex', line: 2578]}, {:gen_server, :try_dispatch, 4, [file: 'gen_server.erl', line: 1123]}, {:gen_server, :handle_msg, 6, [file: 'gen_server.erl', line: 1200]}, {:proc_lib, :init_p_do_apply, 3, [file: 'proc_lib.erl', line: 240]}]}}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 276}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: {:error, %UndefinedFunctionError{module: KernelShtf.Ra (truncated)
11:43:18.408 [error] GenServer :"test_pipeline.Broadway.Supervisor" terminating
** (stop) 30000
Last message: {:EXIT, #PID<0.291.0>, 30000}
State: {:state, {:local, :"test_pipeline.Broadway.Supervisor"}, :rest_for_one, {[:"test_pipeline.Broadway.Terminator", #Reference<0.2443557764.1239416854.44119>, #Reference<0.2443557764.1239416854.44116>, #Reference<0.2443557764.1239416854.44115>, Broadway.Topology.RateLimiter], %{Broadway.Topology.RateLimiter => {:child, :undefined, Broadway.Topology.RateLimiter, {Broadway.Topology.RateLimiter, :start_link, [[name: :"test_pipeline.Broadway.RateLimiter", rate_limiting: nil, producers_names: [:"test_pipeline.Broadway.Producer_0"]]]}, :permanent, false, 5000, :worker, [Broadway.Topology.RateLimiter]}, :"test_pipeline.Broadway.Terminator" => {:child, #PID<0.303.0>, :"test_pipeline.Broadway.Terminator", {Broadway.Topology.Terminator, :start_link, [[producers: [:"test_pipeline.Broadway.Producer_0"], first: [:"test_pipeline.Broadway.Processor_default_0", :"test_pipeline.Broadway.Processor_default_1"], last: [:"test_pipeline.Broadway.BatchProcessor_default_0"]], [name: :"test_pipeline.Broadway.Terminator"]]}, :permanent, false, 30000, :worker, [Broadway.Topology.Terminator]}, #Reference<0.2443557764.1239416854.44115> => {:child, #PID<0.293.0>, #Reference<0.2443557764.1239416854.44115>, {Supervisor, :start_link, [[%{id: :"test_pipeline.Broadway.Producer_0", shutdown: 30000, start: {Broadway.Topology.ProducerStage, :start_link, [[broadway: [hibernate_after: 15000, context: :context_not_set, resubscribe_interval: 100, max_seconds: 5, max_restarts: 3, shutdown: 30000, name: :test_pipeline, producer: [hibernate_after: 15000, module: {KernelShtf.RaceTest.DummyJumper, [counter: 0]}, transformer: {KernelShtf.RaceTest.TestTrack, :transform_message, []}, concurrency: 1], processors: [default: [hibernate_after: 15000, max_demand: 10, concurrency: 2]], batchers: [default: [hibernate_after: 15000, batch_size: 50, batch_timeout: 1000, concurrency: 1]]], dispatcher: {GenStage.DemandDispatcher, [shuffle_demands_on_first_dispatch: true]}, rate_limiter: nil, hibernate_after: 15000, module: {KernelShtf.RaceTest.DummyJumper, [counter: 0]}, transformer: {KernelShtf.RaceTest.TestTrack, :transform_message, []}, concurrency: 1], 0, [name: :"test_pipeline.Broadway.Producer_0", hibernate_after: 15000]]}}], [name: :"test_pipeline.Broadway.ProducerSupervisor", strategy: :one_for_one, max_restarts: 2, max_seconds: 1]]}, :permanent, false, :infinity, :supervisor, [Supervisor]}, #Reference<0.2443557764.1239416854.44116> => {:child, #PID<0.295.0>, #Reference<0.2443557764.1239416854.44116>, {Supervisor, :start_link, [[%{id: :"test_pipeline.Broadway.Processor_default_0", shutdown: 30000, start: {Broadway.Topology.ProcessorStage, :start_link, [[name: :"test_pipeline.Broadway.Processor_default_0", partition: 0, topology_name: :test_pipeline, type: :producer_consumer, resubscribe: 100, terminator: :"test_pipeline.Broadway.Terminator", module: KernelShtf.RaceTest.TestTrack, context: :context_not_set, dispatcher: {GenStage.DemandDispatcher, [shuffle_demands_on_first_dispatch: true]}, processor_key: :default, processor_config: [hibernate_after: 15000, max_demand: 10, concurrency: 2], producers: [:"test_pipeline.Broadway.Producer_0"], producer: {KernelShtf.RaceTest.DummyJumper, [counter: 0]}, batchers: [:default]], [name: :"test_pipeline.Broadway.Processor_default_0", hibernate_after: 15000]]}}, %{id: :"test_pipeline.Broadway.Processor_default_1", shutdown: 30000, start: {Broadway.Topology.ProcessorStage, :start_link, [[name: :"test_pipeline.Broadway.Processor_default_1", partition: 1, topology_name: :test_pipeline, type: :producer_consumer, resubscribe: 100, terminator: :"test_pipeline.Broadway.Terminator", module: KernelShtf.RaceTest.TestTrack, context: :context_not_set, dispatcher: {GenStage.DemandDispatcher, [shuffle_demands_on_first_dispatch: true]}, processor_key: :default, processor_config: [hibernate_after: 15000, max_demand: 10, concurrency: 2], producers: [:"test_pipeline.Broadway.Producer_0"], producer: {KernelShtf.RaceTest.DummyJumper, [counter: 0]}, batchers: [:default]], [name: :"test_pipeline.Broadway.Processor_default_1", hibernate_after: 15000]]}}], [name: :"test_pipeline.Broadway.ProcessorSupervisor", strategy: :one_for_all, max_restarts: 0]]}, :permanent, false, :infinity, :supervisor, [Supervisor]}, #Reference<0.2443557764.1239416854.44119> => {:child, #PID<0.298.0>, #Reference<0.2443557764.1239416854.44119>, {Supervisor, :start_link, [[%{id: #Reference<0.2443557764.1239416854.44118>, start: {Supervisor, :start_link, [[%{id: :"test_pipeline.Broadway.Batcher_default", shutdown: 30000, start: {Broadway.Topology.BatcherStage, :start_link, [[topology_name: :test_pipeline, name: :"test_pipeline.Broadway.Batcher_default", resubscribe: :never, terminator: :"test_pipeline.Broadway.Terminator", batcher: :default, partition: :default, processors: [:"test_pipeline.Broadway.Processor_default_0", :"test_pipeline.Broadway.Processor_default_1"], context: :context_not_set, partition_by: nil, concurrency: 1, hibernate_after: 15000, batch_size: 50, batch_timeout: 1000, concurrency: 1], [name: :"test_pipeline.Broadway.Batcher_default"]]}}, %{id: #Reference<0.2443557764.1239416854.44117>, start: {Supervisor, :start_link, [[%{id: :"test_pipeline.Broadway.BatchProcessor_default_0", shutdown: 30000, start: {Broadway.Topology.BatchProcessorStage, :start_link, [[name: :"test_pipeline.Broadway.BatchProcessor_default_0", partition: 0, topology_name: :test_pipeline, resubscribe: :never, terminator: :"test_pipeline.Broadway.Terminator", module: KernelShtf.RaceTest.TestTrack, context: :context_not_set, batcher: :"test_pipeline.Broadway.Batcher_default", ...], [name: :"test_pipeline.Broadway.BatchProcessor_default_0", hibernate_after: 15000]]}}], [name: :"test_pipeline.Broadway.BatchProcessorSupervisor_default", strategy: :one_for_all, max_restarts: 0]]}, type: :supervisor}], [name: :"test_pipeline.Broadway.BatcherSupervisor_default", strategy: :rest_for_one, max_restarts: 4, max_seconds: 2]]}, type: :supervisor}], [name: :"test_pipeline.Broadway.BatchersSupervisor", strategy: :one_for_one, max_restarts: 2, max_seconds: 1]]}, :permanent, false, :infinity, :supervisor, [Supervisor]}}}, :undefined, 3, 5, [], 0, :never, Supervisor.Default, {:ok, {%{intensity: 3, period: 5, strategy: :rest_for_one}, [%{id: Broadway.Topology.RateLimiter, start: {Broadway.Topology.RateLimiter, :start_link, [[name: :"test_pipeline.Broadway.RateLimiter", rate_limiting: nil, producers_names: [:"test_pipeline.Broadway.Producer_0"]]]}}, %{id: #Reference<0.2443557764.1239416854.44115>, start: {Supervisor, :start_link, [[%{id: :"test_pipeline.Broadway.Producer_0", shutdown: 30000, start: {Broadway.Topology.ProducerStage, :start_link, [[broadway: [hibernate_after: 15000, context: :context_not_set, resubscribe_interval: 100, max_seconds: 5, max_restarts: 3, shutdown: 30000, name: :test_pipeline, producer: [hibernate_after: 15000, module: {KernelShtf.RaceTest.DummyJumper, [counter: 0]}, transformer: {KernelShtf.RaceTest.TestTrack, :transform_message, []}, concurrency: 1], processors: [default: [hibernate_after: 15000, max_demand: 10, concurrency: 2]], batchers: [default: [hibernate_after: 15000, batch_size: 50, batch_timeout: 1000, concurrency: 1]]], dispatcher: {GenStage.DemandDispatcher, [shuffle_demands_on_first_dispatch: true]}, rate_limiter: nil, hibernate_after: 15000, module: {KernelShtf.RaceTest.DummyJumper, [counter: 0]}, transformer: {KernelShtf.RaceTest.TestTrack, :transform_message, []}, concurrency: 1], 0, [name: :"test_pipeline.Broadway.Producer_0", hibernate_after: 15000]]}}], [name: :"test_pipeline.Broadway.ProducerSupervisor", strategy: :one_for_one, max_restarts: 2, max_seconds: 1]]}, type: :supervisor}, %{id: #Reference<0.2443557764.1239416854.44116>, start: {Supervisor, :start_link, [[%{id: :"test_pipeline.Broadway.Processor_default_0", shutdown: 30000, start: {Broadway.Topology.ProcessorStage, :start_link, [[name: :"test_pipeline.Broadway.Processor_default_0", partition: 0, topology_name: :test_ (truncated)
11:43:18.415 [error] GenServer :test_pipeline terminating
** (stop) 30000
Last message: []
State: %{name: :test_pipeline, supervisor_pid: #PID<0.292.0>, terminator: :"test_pipeline.Broadway.Terminator"}


  1) test track starts broadway pipeline (KernelShtf.RaceTest)
     test/kernel_shtf/race_test.exs:53
     ** (EXIT from #PID<0.290.0>) 30000

..11:43:18.418 [error] GenServer KernelShtf.RaceTest.ComplexPipeline.NumberJumper terminating
** (FunctionClauseError) no function clause matching in KernelShtf.RaceTest.ComplexPipeline.NumberJumper.handle_demand/2
    test/kernel_shtf/race_test.exs:134: KernelShtf.RaceTest.ComplexPipeline.NumberJumper.handle_demand(1000, [start_from: 1])
    (gen_stage 1.2.1) lib/gen_stage.ex:2223: GenStage.noreply_callback/3
    (stdlib 4.3.1.4) gen_server.erl:1123: :gen_server.try_dispatch/4
    (stdlib 4.3.1.4) gen_server.erl:1200: :gen_server.handle_msg/6
    (stdlib 4.3.1.4) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
Last message: {:"$gen_producer", {#PID<0.338.0>, #Reference<0.2443557764.1239416833.45251>}, {:ask, 1000}}
State: [start_from: 1]


  2) test complex pipeline runs integrated pipeline (KernelShtf.RaceTest)
     test/kernel_shtf/race_test.exs:168
     ** (EXIT from #PID<0.336.0>) an exception was raised:
     
          ** (FunctionClauseError) no function clause matching in KernelShtf.RaceTest.ComplexPipeline.NumberJumper.handle_demand/2
     
          The following arguments were given to KernelShtf.RaceTest.ComplexPipeline.NumberJumper.handle_demand/2:
          
              # 1
              1000
          
              # 2
              [start_from: 1]
          
          stacktrace:
            test/kernel_shtf/race_test.exs:134: KernelShtf.RaceTest.ComplexPipeline.NumberJumper.handle_demand/2
            (gen_stage 1.2.1) lib/gen_stage.ex:2223: GenStage.noreply_callback/3
            (stdlib 4.3.1.4) gen_server.erl:1123: :gen_server.try_dispatch/4
            (stdlib 4.3.1.4) gen_server.erl:1200: :gen_server.handle_msg/6
            (stdlib 4.3.1.4) proc_lib.erl:240: :proc_lib.init_p_do_apply/3
     


Finished in 0.3 seconds (0.3s async, 0.00s sync)
5 tests, 2 failures

Randomized with seed 13019
11:43:18.420 [error] ** (UndefinedFunctionError) function KernelShtf.RaceTest.ComplexPipeline.MetricsPipeline.handle_batch/4 is undefined or private
    KernelShtf.RaceTest.ComplexPipeline.MetricsPipeline.handle_batch(:default, [%Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 10}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 11}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 12}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 13}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 14}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 0}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 1}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 2}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 3}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}, %Broadway.Message{data: %KernelShtf.RaceTest.TestMessage{data: 4}, metadata: %{}, acknowledger: {Broadway.NoopAcknowledger, :ack_ref, :ok}, batcher: :default, batch_key: :default, batch_mode: :bulk, status: :ok}], %Broadway.BatchInfo{batcher: :default, batch_key: :default, partition: nil, size: 10, trigger: :size}, :context_not_set)
    (broadway 1.1.0) lib/broadway/topology/batch_processor_stage.ex:112: Broadway.Topology.BatchProcessorStage.handle_batch/4
    (broadway 1.1.0) lib/broadway/topology/batch_processor_stage.ex:67: anonymous fn/5 in Broadway.Topology.BatchProcessorStage.handle_events/3
    (telemetry 1.3.0) /home/travis/Projects/graphrenia/deps/telemetry/src/telemetry.erl:324: :telemetry.span/3
    (gen_stage 1.2.1) lib/gen_stage.ex:2578: GenStage.consumer_dispatch/6
    (stdlib 4.3.1.4) gen_server.erl:1123: :gen_server.try_dispatch/4
    (stdlib 4.3.1.4) gen_server.erl:1200: :gen_server.handle_msg/6
    (stdlib 4.3.1.4) proc_lib.erl:240: :proc_lib.init_p_do_apply/3

